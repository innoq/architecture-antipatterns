<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Generic Product model for 12 insurance products | Your awesome title</title>
<meta name="generator" content="Jekyll v3.9.2" />
<meta property="og:title" content="Generic Product model for 12 insurance products" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<link rel="canonical" href="http://localhost:4000/case_studies/generic_product_model_for_12_insurance_products.html" />
<meta property="og:url" content="http://localhost:4000/case_studies/generic_product_model_for_12_insurance_products.html" />
<meta property="og:site_name" content="Your awesome title" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Generic Product model for 12 insurance products" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","headline":"Generic Product model for 12 insurance products","url":"http://localhost:4000/case_studies/generic_product_model_for_12_insurance_products.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Your awesome title" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Your awesome title</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a><a class="page-link" href="/case_studies/app_development_with_cross_plattform_framework.html">App Development with a cross platform framework</a><a class="page-link" href="/case_studies/bpmn_engine_for_everything.html">Using a BPMN engine for the store checkout process</a><a class="page-link" href="/case_studies/diy_middleware.html">Emotional Attachment to a DIY Middleware</a><a class="page-link" href="/case_studies/generic_product_model_for_12_insurance_products.html">Generic Product model for 12 insurance products</a><a class="page-link" href="/case_studies/global_ecommerce_b2b_offering.html">Global eCommerce B2B offering</a><a class="page-link" href="/case_studies/highly_modularized_checkout_system.html">Splitting a checkout system into too many services</a><a class="page-link" href="/case_studies/life_insurance_system_with_ingenious_legacy_tech_stack.html">Life Insurance System with Ingenious Legacy Tech Stack</a><a class="page-link" href="/case_studies/overconfigurability_in_a_huge_ecommerce_system.html">Over-Configurability in a (huuuuge) eCommerce System</a><a class="page-link" href="/case_studies/super_generic_framework_in_logistics.html">Super-generic framework in logistics</a><a class="page-link" href="/case_studies/the_insurance_app_productline_for_100+_countries.html">The Insurance App Productline for 100+ countries</a><a class="page-link" href="/case_studies/two_huge_domain_classes_represent_all_legal_forms_for_companies_unions_and_foundations.html">Two huge domain classes represent all legal forms for companies, unions and foundations</a><a class="page-link" href="/case_studies/use_cqrs_for_almost_every_problem.html">Use CQRS for almost every problem</a><a class="page-link" href="/case_studies/use_every_service_aws_offers.html">Use every service AWS offers</a><a class="page-link" href="/patterns/InfrastructureIgnorance.html">Infrastructure Ignorance</a><a class="page-link" href="/patterns/cargo_culting.html">Cargo-Culting</a><a class="page-link" href="/patterns/configurability_fallacy.html">Configurability Fallacy</a><a class="page-link" href="/patterns/domain_allergy.html">Domain Allergy</a><a class="page-link" href="/patterns/emotional_misattachment.html">Emotional Attachment</a><a class="page-link" href="/patterns/misapplied_genericity.html">Misapplied Genericity</a><a class="page-link" href="/patterns/never_change_a_running_system.html">Never change a running system</a><a class="page-link" href="/patterns/over_engineering.html">Over-Engineering</a><a class="page-link" href="/patterns/over_modularization.html">Over-Modularization</a><a class="page-link" href="/patterns/under_modularization.html">Under-Modularization</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Generic Product model for 12 insurance products</h1>
  </header>

  <div class="post-content">
    <h1 id="generic-product-model-for-12-insurance-products">Generic Product model for 12 insurance products</h1>

<h2 id="description">Description</h2>
<p>When developing a replacement for an old insurance system based on COBOL and hirarchic databases, a decision was made to use a generic product modeling system.</p>

<h2 id="what-is-the-systems-background">What is the system’s background?</h2>
<p>The background was an insurance company that had for a long time developed and operated a system to calculate, sell and maintain insurances in COBOL with a 32*70 terminal frontend with great success.
Since the technologies were getting more and more outdated, in the early 2000s the company decided to redevelop the system. The planned technology stack was a Java and XSLT based frontend calling a COBOL backend with a DB2 database.
The COBOL backend was supposed to have all decisions in it, the principle was “no business logic in Java”. Since all business logic should be based on a business decisions, the COBOL backend should call a generic insurance product modelling system for all decisions.</p>

<h2 id="what-was-the-good-idea">What was the good idea?</h2>
<p>The supposedly good idea was to create a generic frontend and data model, completely managed by the product modelling system. Every decision and calculation should be done by the product model, so that the business people could change everything in the product model. If a new generation of an insurance tariff should be released, everything neccessary would just be modeled by the business and the new version of the model would just work, so the IT would not need to change anything. This principle would be followed through to the end: even decisions if a textbox should be visible or editable would be made by the business model.</p>

<h2 id="what-were-the-bad-consequences-why-was-everything-bad">What were the bad consequences, why was everything bad?</h2>

<p>There were many problems caused by this idea, from which the following were just the biggest:</p>

<p>The biggest problem was the idea that for a new product or tariff only the business model would need to be changed. This principle simply did not hold. For example when a new tariff or product should be released, and it required a new checkbox (for example if the new tariff for dog owner liability insurance needed to know if the dog is a fighting dog), this checkbox could not just be generated in the business model but to enable the business model to make it visible or editable, the checkbox needed to be created in the frontend, too.</p>

<p>But it did not stop there, the checkbox also had to be created in the database to be able to store its value. The organization of the project was split into different teams, the product modeling team, the team working on the Java frontend, the team working on the COBOL backend, a separate team working on the mapping between COBOL backend and the business model and finally a team working on the database. Since every team had to change its software to just add one new checkbox, there was a massive communication overhead for every simple task.</p>

<p>The strategic decision that every bit of business logic needed to be handled by the product model, made the rountrip time for requests epic. If a sales person using the application wanted to add the dog owner liability component to the normal liability insurance in a sales conversation, the Java frontend would serialize the complete state of the sales conversation to XML, just changing the value of the checkbox for dog liability insurance. This XML structure was then send to the COBOL backend, parsed, then mapped to the data structure necessary to talk to the busines model. The business model would than evaluate the data structure handed over by the COBOL backend and would then set the value for the “fighting dog checkbox” to visible. This would be returned to the COBOL backend which would then map the business model back to XML and send it to the Java frontend, where the XML would be parsed and then the checkbox would show.</p>

<h2 id="what-happened-was-there-a-turning-or-tipping-point">What happened, was there a turning or tipping point?</h2>

<p>The project was finally cancelled after more than 5 years of development in which 3 of the 12 planned products were finished. The running applications using this technical stack ran into massive performance problems due to the roundtrip time but also due to high CPU demand in the COBOL backend. (Mainframe CPUs are rented and high peaks such as at the end of the year when many people switch insurances can use up more CPU cycles than rented. Using more CPU cycles than the rented limit results in very high overdraft costs.)</p>

<h2 id="how-was-the-situation-resolved">How was the situation resolved?</h2>

<p>After the project was cancelled, a new project was started to do the same but with a lot of lessons learned from the old project. First of all the strategic rule of “all business logic has to be implemented in COBOL” was cancelled. The business model was reduced, so it only modelled the product structure and price calculation. This resulted in calling the product model a lot less during a sales conversation. The choice which checkboxes needed to be editable or shown was made in the Java frontend. The Java frontend communicated directly with the database. The COBOL backend was only called to talk to the business model and to transfer sold offers to the inventory system. Also the project team was one team, sitting in 3 rooms in proximity to each over, with people from all “old” teams from the previous project. The project was a success.</p>

<h2 id="which-patterns-were-encountered">Which patterns were encountered?</h2>

<ul>
  <li><a href="/patterns/misapplied_genericity.html">Misapplied Genericity</a></li>
  <li><a href="/patterns/over_engineering.html">Overengineering</a></li>
</ul>


  </div>

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Your awesome title</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Your awesome title</li><li><a class="u-email" href="mailto:your-email@example.com">your-email@example.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jekyll"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jekyll</span></a></li><li><a href="https://www.twitter.com/jekyllrb"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jekyllrb</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
